<div class="app-container">
  @if (isAuthenticated$ | async) {
    <!-- Navigation Header -->
    <nav class="navbar">
      <div class="navbar-brand">
        <span class="logo">ðŸŽ¾</span>
        <span class="brand-text">{{ title }}</span>
      </div>

      <!-- Desktop Navigation -->
      <div class="navbar-menu desktop-menu">
        @for (item of navItems; track item.route) {
          <a [routerLink]="item.route" 
             routerLinkActive="active"
             class="nav-link">
            <span class="nav-icon">{{ item.icon }}</span>
            <span class="nav-label">{{ item.label }}</span>
          </a>
        }
      </div>

      <!-- User Menu -->
      <div class="navbar-end">
        <div class="user-menu">
          <span class="user-email">{{ (currentUser$ | async)?.email }}</span>
          <button class="btn-logout" (click)="logout()">
            <span class="logout-icon">ðŸšª</span>
            Logout
          </button>
        </div>

        <!-- Mobile Menu Toggle -->
        <button class="menu-toggle" (click)="toggleMenu()">
          <span class="hamburger" [class.open]="isMenuOpen"></span>
        </button>
      </div>
    </nav>

    <!-- Mobile Navigation Menu -->
    @if (isMenuOpen) {
      <div class="mobile-menu" [class.open]="isMenuOpen">
        @for (item of navItems; track item.route) {
          <a [routerLink]="item.route" 
             routerLinkActive="active"
             class="mobile-nav-link"
             (click)="toggleMenu()">
            <span class="nav-icon">{{ item.icon }}</span>
            <span class="nav-label">{{ item.label }}</span>
          </a>
        }
        <button class="mobile-logout" (click)="logout()">
          <span class="logout-icon">ðŸšª</span>
          Logout
        </button>
      </div>
    }

    <!-- Main Content Area -->
    <main class="main-content">
      <router-outlet></router-outlet>
    </main>
  } @else {
    <!-- Show router outlet without navigation for auth pages -->
    <router-outlet></router-outlet>
  }
</div>